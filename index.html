<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="author" content="Imbimbo Matteo">
   <link rel="stylesheet" href="css/style.css">
   <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css' integrity='sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==' crossorigin='anonymous'/>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/dayjs.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/plugin/customParseFormat.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
   <title>Boolzapp</title>
</head>

<body>
   <div class="back-ground">
      <div id="color-green"></div>
      <div id="color-grey"></div>

      <!-- # APP SECTION  -->
      <div class="spa" id="root">
         <div class="row h-100 gx-0">
            <!-- # SECTION CONTACT -->
            <div class="col-4 h-100">
               <div id="contact-area" class="d-flex flex-column h-100">
                  <div class="section p-3 colour-beige" id="user">
                        <img :src="`img/avatar${user.avatar}.jpg`" :alt="user.name">
                        <div class="mx-2 fs-6">{{user.name}}</div>
                        <div class="icon flex-grow-1 text-end">
                           <i class="fas fa-circle-notch"></i>
                           <i class="fas fa-comment-alt"></i>
                           <i class="fas fa-ellipsis-v"></i>
                        </div>
                  </div>
                  <div class="section p-3" id="active-notifications">
                     <div class="notification bg-white rounded-circle" >
                        <i class="far fa-bell-slash position-absolute top-50 start-50 translate-middle fs-20"></i>
                     </div>
                     <div class="d-flex flex-column mx-2">
                        <div>Ricevi notifiche di nuovi messaggi</div>
                        <div class="color-grey text-decoration-underline">Attiva notifiche desktop</div>
                     </div>
                  </div>
                  <div id="serch-contact" class="p-3">
                     <i class="fas fa-search"></i>
                     <input class="flex-grow-1 ms-2 border-0" type="text" placeholder="Cerca o inizia una nuova ricerca">
                  </div>
                  <div class="flex-grow-1 p-3 overflow-scroll" id="list-contact">
                     <ul class="list-unstyled">
                        <li class="d-flex align-items-center mb-3" role="button" 
                        v-for="(contact, index) in contacts"
                        :class="(index === currenContact) ? 'selected' : ''"
                        @click="isSelected(index)">
                           <img :src="`img/avatar_${index + 1}.jpg`" :alt="contact.name">
                           <div>{{ contact.name }}</div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>

            <!-- # SECTION MESSAGE -->
            <div class="col-8 h-100">
               <div id="message-area" class="d-flex flex-column">
                  <div class="section colour-beige" id="contact-selected">
                     <div v-if="(index === currentContact)" v-for="(contact, index) in contacts" class="d-flex p-3">
                        <img :src="`img/avatar_${contact.avatar}.jpg`" alt="">
                        <div class="ps-2">
                           <div>{{contact.name}}</div>
                           <span>Ultimo aggiornamento <span >{{ d }}</span></span>
                        </div>
                     </div>
                     <div class="icon flex-grow-1 text-end p-3">
                        <i class="fas fa-search fs-20"></i>
                        <i class="fas fa-paperclip fs-20"></i>
                        <i class="fas fa-ellipsis-v fs-20 color-grey"></i>
                     </div>
                  </div>
                  <div class="flex-grow-1 p-5 overflow-auto" id="message-contact-selected">
                     <div v-for="message in contacts.messages" :class="message.status ? 'sent' : 'received'">
                        <div class="message">{{ message.text }}</div>
                     </div>
                     
                  </div>
                  <div class="section colour-beige" id="text-user">
                       <div class="row g-0 align-items-center w-100">
                          <div class="col-2">
                           <i class="far fa-smile fa-2x color-grey ps-5"></i>
                          </div>
                          <div class="col-8">
                           <input type="text" class="w-100 border-0" placeholder="Scrivi un messaggio">
                          </div>
                          <div class="col-2 text-end">
                           <i class="fas fa-microphone fa-2x color-grey pe-5"></i>
                          </div>
                       </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>

   <script src="js/script.js"></script>
</body>
</html>